# サッカーゲーム対戦記録アプリ 要件定義

## 概要
友達とのサッカーゲーム対戦記録を管理するWebアプリケーション。
スマホファーストで設計し、誰でも簡単に試合結果を記録・閲覧できる。

## 機能要件

### 1. ユーザー管理
- Supabase Authによる認証（メール/パスワード or ソーシャルログイン）
- プロフィール設定（ニックネーム、アイコン）
- 友達の記録も閲覧可能

### 2. 試合記録
- **入力項目**
  - 対戦相手（ドロップダウンから選択）
  - 自分のスコア
  - 相手のスコア
  - メモ（任意：反省点など）
  - 日付（自動入力、編集可能）
- **自動判定**
  - 勝敗を自動判定（勝ち/引き分け/負け）
  - 色分け表示（勝ち:緑、引き分け:グレー、負け:赤）

### 3. 統計・分析
- **対戦相手別統計**
  - 通算成績（◯勝◯分◯敗）
  - 得失点差
  - 直近の対戦結果
- **全体統計**
  - 総合成績
  - 現在の連勝/連敗数
  - 最高連勝/連敗記録
- **期間別統計**
  - 月別成績
  - 年別成績

### 4. 表示機能
- **ダッシュボード**
  - 最近の試合結果
  - 現在の連勝数表示（「◯連勝中！」）
  - 全体の勝率
- **試合一覧**
  - 時系列で表示
  - フィルタ機能（対戦相手、期間）
- **対戦相手一覧**
  - 各対戦相手との通算成績

### 5. データ管理
- 対戦相手の追加機能
- 試合記録の編集・削除

## 非機能要件

### パフォーマンス
- スマホでの高速表示
- オフライン時の一時保存

### UI/UX
- スマホファーストのレスポンシブデザイン
- 直感的な操作性
- スワイプやタップでの簡単操作

### セキュリティ
- 自分の記録は自分のみ編集可能
- 他ユーザーの記録は閲覧のみ

## 技術スタック（案）
- **フロントエンド**: Next.js 14 (App Router) + TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: Zustand or TanStack Query
- **データベース**: Supabase (PostgreSQL)
- **認証**: Supabase Auth
- **ホスティング**: Vercel
- **PWA対応**: next-pwa（オフライン対応）

## データベース設計（概要）
- users（ユーザー情報）
- opponents（対戦相手マスタ）
- matches（試合記録）
- user_opponents（ユーザーと対戦相手の関連）

## 画面構成（案）
1. ログイン/サインアップ
2. ダッシュボード（ホーム）
3. 試合記録入力
4. 試合一覧
5. 対戦相手別成績
6. 統計ページ
7. プロフィール設定